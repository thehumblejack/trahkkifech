import{$ as t,B as w,L as X,T as Y,W as Z,ca as K,j as y,na as J,t as x,w as n,x as T}from"./chunk-VUOZ7AWS.mjs";import{d as window,f as H}from"./chunk-ENK4YSX5.mjs";H();var Pe=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Fe=/^https?:\/\/([^\/]+)[^\?]+\??(.+)$/,q=e=>Pe.test(String(e).toLowerCase()),Te=e=>{var a;let[,c,C]=(a=e.replace("&amp;","&").match(Fe))!==null&&a!==void 0?a:[null,null,null];return[c,C?new URLSearchParams(C):null]};function je(e){console.log(e);try{return new URL(e),e}catch{try{return new URL(`https://${e}`),`https://${e}`}catch{}}}function Re(e){return e===void 0?!1:!!(e.startsWith("#")||e.startsWith("/")||e.startsWith("."))}var Q="v1",oe=J(function({service:a,redirectAs:c,mailchimpURL:C,loopsID:ae,loopsUserGroup:j,formsparkID:I,getwaitlistAPI:ie,input:s,button:o,font:le,layout:re,link:k,gap:ne,style:de,onSubmit:i}){let[h,N]=x(""),[se,f]=x(!1),[v,p]=x(!1),[pe,R]=x(!1),{paddingPerSide:E,paddingTop:_,paddingRight:B,paddingBottom:ce,paddingLeft:ue,padding:m,borderRadius:S,borderObject:A,focusObject:$,shadowObject:D,height:U,fixedHeight:z}=s,{buttonPaddingPerSide:he,buttonPaddingTop:fe,buttonPaddingRight:me,buttonPaddingBottom:ge,buttonPaddingLeft:ye,buttonPadding:V}=o,we=E?`${_}px ${o.isDocked?B+o.widthWhenDocked:B}px ${ce}px ${ue}px`:`${m}px ${o.isDocked?m+o.widthWhenDocked:m}px ${m}px ${m}px`,Ce=he?`${o.isDocked?0:fe}px ${me}px ${o.isDocked?0:ge}px ${ye}px`:`${o.isDocked?0:V}px ${V}px ${o.isDocked?0:V}px ${V}px`,G=Y(),P=()=>{if(p(!1),R(!1),N(""),c==="link"&&k&&!se){let[r,d]=k.split("#"),{routeId:l,pathVariables:u}=Z(G.routes,r);if(l&&G.navigate(l,d,u),!Re(k)){let F=je(k);F&&window.open(F,"_blank")}}},b=y(r=>r===""||!q(r)?(f(!0),g.start("error"),!1):!0,[q]),Se=y(r=>{f(!1),N(r.target.value)},[]),be=y(r=>{R(!0)},[]),xe=y(r=>{R(!1),f(!1)},[]),ke=y(r=>{if(r.preventDefault(),!v){if(p(!0),a==="mailchimp"){let[d,l]=Te(C);if(!b(h)||!d||!l){p(!1);return}l.set("MERGE0",h),fetch(`https://${d}/subscribe/post`,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},body:l.toString()}).then(u=>{P(),c==="overlay"&&i?.()}).catch(u=>{console.error(u),p(!1),f(!0),g.start("error")})}if(a==="loops"){if(!b(h)){p(!1);return}let d=`email=${encodeURIComponent(h)}`,l=`userGroup=${encodeURIComponent(j)}`,F=!!j&&j!==" "?d+"&"+l:d;fetch(`https://app.loops.so/api/newsletter-form/${ae}`,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:F}).then(()=>{P(),c==="overlay"&&i?.()}).catch(Ve=>{console.error(Ve),p(!1),f(!0),g.start("error")})}if(a==="formspark"){if(!b(h)){p(!1);return}let d=new FormData(r.target),l=Object.fromEntries(d.entries());fetch(`https://api.formspark.io/${I}`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l)}).then(()=>{P(),i?.()}).catch(u=>{console.error(u),p(!1),f(!0),g.start("error")})}if(a==="getwaitlist"){if(!b(h)){p(!1);return}let d=new FormData(r.target),l=Object.fromEntries(d.entries());l.referral_link=document.URL,fetch(`https://api.getwaitlist.com/api/v1
/waiter/`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(l)}).then(()=>{P(),c==="overlay"&&i?.()}).catch(u=>{console.error(u),p(!1),f(!0),g.start("error")})}}},[C,I,h,i,b,v]),g=X(),M=s.focusObject?`inset 0 0 0 ${$.focusWidthFrom}px ${$.focusColor}`:null,ve=s.focusObject?`inset 0 0 0 ${$.focusWidthTo}px ${$.focusColor}`:null,O=s.shadowObject?`${D.shadowX}px ${D.shadowY}px ${D.shadowBlur}px ${D.shadowColor}`:null,L=s.borderObject?`inset 0 0 0 ${A.borderWidth}px ${A.borderColor}`:null,$e={default:{x:0},error:{x:[0,-4,4,0],transition:{duration:.2}}},De={default:{boxShadow:W(M,O,L)},focused:{boxShadow:W(ve,O,L)}};return n(w.div,{style:{...de,...Be,"--framer-custom-placeholder-color":s.placeholderColor},variants:$e,animate:g,children:T("form",{style:{width:"100%",height:"auto",display:"flex",position:"relative",flexDirection:re==="vertical"?"column":"row",color:o.color,gap:o.isDocked?0:ne},onSubmit:ke,method:"POST",children:[a==="getwaitlist"&&n("input",{type:"hidden",name:"api_key",value:ie}),n(w.input,{type:"email",name:"email",placeholder:s.placeholder,value:h,className:`${Q} framer-custom-input`,onChange:Se,onFocus:be,onBlur:xe,autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",spellCheck:"false",style:{...te,padding:we,borderRadius:S,fontSize:16,...le,background:s.fill,height:U?"auto":z,color:s.color,boxShadow:W(M,O,L)},variants:De,initial:!1,animate:pe?"focused":"default",transition:{duration:.3},"data-1p-ignore":!0}),!o.shouldAppear&&v&&n(ee,{shouldAppear:o.shouldAppear,paddingPerSide:E,paddingTop:_,paddingRight:B,padding:m,color:s.color}),o.shouldAppear&&T("div",{style:{position:o.isDocked?"absolute":"relative",top:o.isDocked?o.insetWhenDocked:0,right:o.isDocked?o.insetWhenDocked:0,bottom:o.isDocked?o.insetWhenDocked:0},children:[n(w.input,{type:"submit",value:o.label,style:{...te,width:o.isDocked?o.widthWhenDocked:"100%",height:U?"100%":z,cursor:"pointer",padding:Ce,borderRadius:o.isDocked?S-o.insetWhenDocked:S,fontSize:16,...o.buttonFont,background:o.fill,color:o.color,zIndex:1,boxShadow:Oe(o)}}),v&&n("div",{style:{borderRadius:o.isDocked?S-o.insetWhenDocked:S,position:"absolute",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",inset:0,zIndex:2,color:o.color,background:o.fill},children:n(ee,{color:o.color})})]})]})})},[`.${Q}.framer-custom-input::placeholder { color: var(--framer-custom-placeholder-color) !important; }`]),ee=e=>{let a=e.shouldAppear?{}:{position:"absolute",top:"calc(50% - 8px)",right:e.paddingPerSide?e.paddingRight:e.padding};return n(w.div,{style:{height:16,width:16,...a},initial:{rotate:0},animate:{rotate:360},transition:{duration:1,repeat:1/0},children:n(w.div,{initial:{scale:0},animate:{scale:1},children:T("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",style:{fill:"currentColor",color:e.color},children:[n("path",{d:"M 8 0 C 3.582 0 0 3.582 0 8 C 0 12.419 3.582 16 8 16 C 12.418 16 16 12.419 16 8 C 15.999 3.582 12.418 0 8 0 Z M 8 14 C 4.687 14 2 11.314 2 8 C 2 4.687 4.687 2 8 2 C 11.314 2 14 4.687 14 8 C 14 11.314 11.314 14 8 14 Z",fill:"currentColor",opacity:"0.2"}),n("path",{d:"M 8 0 C 12.418 0 15.999 3.582 16 8 C 16 8 16 9 15 9 C 14 9 14 8 14 8 C 14 4.687 11.314 2 8 2 C 4.687 2 2 4.687 2 8 C 2 8 2 9 1 9 C 0 9 0 8 0 8 C 0 3.582 3.582 0 8 0 Z",fill:"currentColor"})]})})})};K(oe,{service:{title:"Service",type:t.Enum,options:["loops","formspark","mailchimp","getwaitlist"],optionTitles:["Loops","FormSpark","MailChimp","Get Waitlist"],defaultValue:"loops"},mailchimpURL:{title:"URL",placeholder:"https://***.us6.list-manage.com/subscribe/post?u=***",type:t.String,hidden:e=>e.service!=="mailchimp"},loopsID:{title:"ID",placeholder:"klm2jxy0i98abzr01pq7defg5",type:t.String,hidden:e=>e.service!=="loops"},loopsUserGroup:{title:"User Group",type:t.String,placeholder:"Title",optional:!0,hidden:e=>e.service!=="loops"},formsparkID:{title:"ID",placeholder:"7PbPpGN3",type:t.String,hidden:e=>e.service!=="formspark"},getwaitlistAPI:{title:"ID",placeholder:"9148",type:t.String,hidden:e=>e.service!=="getwaitlist"},redirectAs:{title:"Success",type:t.Enum,options:["link","overlay"],optionTitles:["Open Link","Show Overlay"],defaultValue:"link"},link:{title:"Redirect",type:t.Link,hidden:e=>e.redirectAs==="overlay"},onSubmit:{title:"Submit",type:t.EventHandler,hidden:e=>e.redirectAs==="link"},layout:{title:"Layout",type:t.Enum,options:["horizontal","vertical"],displaySegmentedControl:!0,hidden:e=>e.button.isDocked},font:{type:t.Font,title:"Font",controls:"extended"},input:{title:"Input",type:t.Object,controls:{placeholder:{title:"Placeholder",type:t.String,defaultValue:"name@email.com"},placeholderColor:{title:" ",type:t.Color,defaultValue:"rgba(0, 0, 0, 0.3)"},fill:{title:"Fill",type:t.Color,defaultValue:"#EBEBEB"},color:{title:"Text",type:t.Color,defaultValue:"#000"},height:{title:"Height",type:t.Boolean,enabledTitle:"Auto",disabledTitle:"Fixed"},fixedHeight:{title:" ",type:t.Number,displayStepper:!0,min:0,defaultValue:50,hidden:e=>e.height},padding:{title:"Padding",type:t.FusedNumber,toggleKey:"paddingPerSide",toggleTitles:["Padding","Padding per side"],defaultValue:15,valueKeys:["paddingTop","paddingRight","paddingBottom","paddingLeft"],valueLabels:["T","R","B","L"],min:0},borderRadius:{title:"Radius",type:t.Number,displayStepper:!0,min:0,defaultValue:8},focusObject:{type:t.Object,title:"Focus",optional:!0,controls:{focusWidthFrom:{title:"From",type:t.Number,displayStepper:!0,defaultValue:0},focusWidthTo:{title:"To",type:t.Number,displayStepper:!0,defaultValue:2},focusColor:{title:"Color",type:t.Color,defaultValue:"#09F"}}},borderObject:{type:t.Object,title:"Border",optional:!0,controls:{borderWidth:{title:"Width",type:t.Number,displayStepper:!0,defaultValue:1},borderColor:{title:"Color",type:t.Color,defaultValue:"rgba(200,200,200,0.5)"}}},shadowObject:{type:t.Object,title:"Shadow",optional:!0,controls:{shadowColor:{title:"Color",type:t.Color,defaultValue:"rgba(0,0,0,0.25)"},shadowX:{title:"Shadow X",type:t.Number,min:-100,max:100,defaultValue:0},shadowY:{title:"Shadow Y",type:t.Number,min:-100,max:100,defaultValue:2},shadowBlur:{title:"Shadow B",type:t.Number,min:0,max:100,defaultValue:4}}}}},button:{title:"Button",type:t.Object,controls:{shouldAppear:{title:"Show",type:t.Boolean,defaultValue:!0},label:{title:"Label",type:t.String,defaultValue:"Subscribe"},buttonFont:{type:t.Font,title:"Font",controls:"extended"},fill:{title:"Fill",type:t.Color,defaultValue:"#333"},color:{title:"Text",type:t.Color,defaultValue:"#FFF"},isDocked:{title:"Docked",type:t.Boolean,defaultValue:!1},widthWhenDocked:{title:"Width",type:t.Number,min:0,defaultValue:100,displayStepper:!0,hidden:e=>!e.isDocked},insetWhenDocked:{title:"Inset",type:t.Number,min:0,defaultValue:5,displayStepper:!0,hidden:e=>!e.isDocked},buttonPadding:{title:"Padding",type:t.FusedNumber,toggleKey:"buttonPaddingPerSide",toggleTitles:["Padding","Padding per side"],defaultValue:15,valueKeys:["buttonPaddingTop","buttonPaddingRight","buttonPaddingBottom","buttonPaddingLeft"],valueLabels:["T","R","B","L"],min:0},buttonShadow:{type:t.Object,title:"Shadow",optional:!0,controls:{shadowColor:{title:"Color",type:t.Color,defaultValue:"rgba(0,0,0,0.25)"},shadowX:{title:"Shadow X",type:t.Number,min:-100,max:100,defaultValue:0},shadowY:{title:"Shadow Y",type:t.Number,min:-100,max:100,defaultValue:2},shadowBlur:{title:"Shadow B",type:t.Number,min:0,max:100,defaultValue:4}}}}},gap:{title:"Gap",type:t.Number,displayStepper:!0,min:0,defaultValue:10,hidden:e=>e.button.isDocked}});var te={WebkitAppearance:"none",appearance:"none",width:"100%",height:"auto",outline:"none",border:"none"},Be={position:"relative",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"};function Oe(e){return e.buttonShadow?`${e.buttonShadow.shadowX}px ${e.buttonShadow.shadowY}px ${e.buttonShadow.shadowBlur}px ${e.buttonShadow.shadowColor}`:"none"}function W(...e){let a=[];return e.forEach(c=>c&&a.push(c)),a.join(", ")}var Ee=oe;export{Ee as a};
//# sourceMappingURL=chunk-O7VAON3J.mjs.map
